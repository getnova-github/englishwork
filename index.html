<!DOCTYPE html>
<html>
<head>
  <title>Google Drive</title>
  <link rel="icon" type="image/png" href="https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png">
</head>
<script>
function aboutBlank() {
  let inFrame;

  try {
    inFrame = window !== top;
  } catch (e) {
    inFrame = true;
  }

  if (!inFrame && !navigator.userAgent.includes("Firefox")) {
    const popup = open("about:blank", "_blank");
    if (!popup || popup.closed) {
      alert("Popups are disabled! Please enable them at the right side of the search bar.");
    } else {
      const doc = popup.document;
      const iframe = doc.createElement("iframe");
      const style = iframe.style;
      const link = doc.createElement("link");
      const code = doc.createElement("script");

      doc.title = "Google Drive";
      link.rel = "icon";
      link.href = "https://ssl.gstatic.com/images/branding/product/1x/drive_2020q4_32dp.png";
      doc.head.appendChild(link);
      iframe.src = "https://ruby-production.up.railway.app";
      style.position = "fixed";
      style.top = style.bottom = style.left = style.right = 0;
      style.border = style.outline = "none";
      style.width = style.height = "100%";
      code.src = "https://https://raw.githubusercontent.com/getnova-github/englishwork/dev/fullscreen.js"

      doc.body.appendChild(iframe);
      doc.body.appendChild(code);
      location.replace("https://classroom.google.com");

      // Inject fullscreen script
      const fullscreenScript = doc.createElement("script");
      fullscreenScript.innerHTML = `
        function requestFullScreen(element) {
          var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;
          if (requestMethod) {
            requestMethod.call(element);
          } else if (typeof window.ActiveXObject !== "undefined") {
            var wscript = new ActiveXObject("WScript.Shell");
            if (wscript !== null) {
              wscript.SendKeys("{F11}");
            }
          }
        }

        function goFullScreen() {
          var elem = document.documentElement;
          requestFullScreen(elem);
        }

        setTimeout(goFullScreen, 1000);
      `;
      doc.head.appendChild(fullscreenScript);
    }
  }
}
</script>

<body onload="aboutBlank()">
</body>

</html>
